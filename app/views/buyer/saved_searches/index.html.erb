
      <%# Page Header %>
      <div class="page-header">
        <div class="page-header-content">
          <h1 class="page-title">Saved Searches</h1>
          <p class="page-subtitle">Get alerts when new properties match your criteria</p>
        </div>
        <div class="page-header-actions">
          <%= link_to new_buyer_saved_search_path, class: "btn btn-primary" do %>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14M5 12h14"/>
            </svg>
            Create New Search
          <% end %>
        </div>
      </div>

      <% if @saved_searches.any? %>
        <div class="dashboard-grid">
          <% @saved_searches.each do |search| %>
            <div class="dashboard-panel">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <h3 class="dashboard-panel-title"><%= search.name %></h3>
                  <p class="text-secondary text-small"><%= search_criteria_summary(search) %></p>
                </div>
                <span class="badge <%= alert_frequency_badge_class(search.alert_frequency) %>">
                  <%= search.alert_frequency.humanize %>
                </span>
              </div>

              <%# Stats %>
              <div class="flex gap-4 mb-4">
                <div class="text-center">
                  <p class="font-bold text-lg"><%= search.matching_properties.count %></p>
                  <p class="text-secondary text-small">Matches</p>
                </div>
                <div class="text-center">
                  <p class="font-bold text-lg"><%= search.new_matching_properties.count %></p>
                  <p class="text-secondary text-small">New</p>
                </div>
              </div>

              <%# Alert Status %>
              <div class="flex items-center gap-2 mb-4 text-small">
                <% if search.email_alerts? %>
                  <span class="badge badge-green">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect width="20" height="16" x="2" y="4" rx="2"/>
                      <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                    </svg>
                    Email
                  </span>
                <% end %>
                <% if search.push_alerts? %>
                  <span class="badge badge-blue">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
                      <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/>
                    </svg>
                    Push
                  </span>
                <% end %>
                <% if search.last_alerted_at.present? %>
                  <span class="text-muted">Last alert <%= time_ago_in_words(search.last_alerted_at) %> ago</span>
                <% end %>
              </div>

              <%# Actions %>
              <div class="flex gap-2">
                <%= link_to buyer_saved_search_path(search), class: "btn btn-secondary btn-sm flex-1" do %>
                  View Results
                <% end %>
                <%= link_to edit_buyer_saved_search_path(search), class: "btn btn-ghost btn-sm" do %>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/>
                  </svg>
                <% end %>
                <%= button_to buyer_saved_search_path(search),
                      method: :delete,
                      class: "btn btn-ghost btn-sm text-danger",
                      data: { turbo_confirm: "Are you sure you want to delete this search?" } do %>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 6h18"/>
                    <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                    <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                  </svg>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <%# Empty State %>
        <div class="empty-state">
          <div class="empty-state-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.3-4.3"/>
            </svg>
          </div>
          <h3 class="empty-state-title">No saved searches yet</h3>
          <p class="empty-state-description">Create a saved search to get notified when new properties match your criteria.</p>
          <%= link_to new_buyer_saved_search_path, class: "btn btn-primary" do %>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14M5 12h14"/>
            </svg>
            Create Your First Search
          <% end %>
        </div>
      <% end %>
